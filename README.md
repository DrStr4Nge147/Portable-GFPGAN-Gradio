# Portable GFPGAN - Zero-Shot Launcher for Windows

[![Platform](https://img.shields.io/badge/Platform-Windows-0078D6?style=flat-square)](https://www.microsoft.com/en-us/windows/)

This repository provides a portable, zero-shot setup for running **GFPGAN (Generative Facial Prior)** on Windows systems. GFPGAN excels at restoring old photos and improving the quality of AI-generated faces.

The key goal of this project is **ease of use**. You don't need to manually install Python, manage dependencies, or configure complex settings. Simply download the package, run the launcher script, and it handles the rest!

## Features

*   **‚ú® Zero-Shot Installation:** No manual installation steps required for Python or dependencies. Just run the launcher!
*   **üì¶ Portable:** Fully self-contained in a single folder. Doesn't interfere with existing Python installations or system environment variables.
*   **üöÄ Automatic Setup:** The launcher (`Run.bat`) automatically:
    *   Uses an embedded Python distribution.
    *   Detects compatible NVIDIA GPUs for CUDA acceleration.
    *   Installs the appropriate PyTorch version (with CUDA if GPU is supported, otherwise CPU).
    *   Installs all required Python libraries (`GFPGAN`, `RealESRGAN`, `Gradio`, etc.) into a local cache.
    *   Downloads the necessary GFPGAN and RealESRGAN model files.
*   **üñ•Ô∏è User-Friendly Interface:** Uses Gradio to provide an easy-to-use web interface for uploading images and selecting options.
*   **üß† GPU Acceleration:** Leverages NVIDIA GPUs if available and correctly configured for significantly faster processing.
*   ** fallback:** Runs perfectly fine (though slower) on systems without a compatible NVIDIA GPU.
*   **üßπ Clean:** Keeps all downloaded packages, models, and caches within its own folder structure (`cache/`, `app/models/`, `gfpgan/weights/`).

## Requirements

*   **Operating System:** Windows (64-bit recommended).
*   **Internet Connection:** Required for the **first time** you run `Run.bat` to download Python packages and models. Subsequent runs will use the cached files.
*   **(Optional but Recommended for Speed):** An NVIDIA GPU (GTX 10xx series or newer recommended) with up-to-date graphics drivers installed.

## How to Use

1.  **Download:**
    *   Go to the [Releases](https://github.com/DrStr4Nge147/Portable-GFPGAN-Gradio/releases) page of this repository.
    *   Download the latest release ZIP file (e.g., `Portable-GFPGAN-vX.X.zip`).
    *   **OR** Clone the repository using Git: `git clone https://github.com/DrStr4Nge147/Portable-GFPGAN-Gradio.git`
2.  **Extract:** Extract the contents of the downloaded ZIP file to a location on your computer (e.g., `C:\Tools\PortableGFPGAN`).
3.  **Run:** Navigate into the extracted folder and **double-click `Run.bat`**.
4.  **Wait (First Time Only):** The first time you run the script, it will download and install all necessary components. This might take several minutes depending on your internet speed and hardware. You'll see progress updates in the command prompt window. Subsequent launches will be much faster.
5.  **Access UI:** Once setup is complete, the script will launch the Gradio web server. It should automatically open the interface in your default web browser. If not, manually navigate to: `http://127.0.0.1:7860`
6.  **Restore Faces:**
    *   Upload your image.
    *   Select the desired GFPGAN version and rescaling factor.
    *   Click **Submit**.
    *   Wait for the processing to complete.
    *   The restored image will appear, and a download link/button will be provided.
7.  **Close:** Close the Gradio web interface tab and the `Run.bat` command prompt window when you are finished.

## Folder Structure

*   `app/`:
    *   `app.py`: The Python script containing the Gradio application logic.
    *   `requirements.txt`: Lists Python dependencies.
    *   `models/`: Stores downloaded main GFPGAN/RealESRGAN models (`.pth` files).
    *   `temp/`: Temporarily stores output images generated by the application. **Download images you want to keep!**
*   `cache/`: Automatically created after running the script. Stores downloaded Python packages (`pip`), PyTorch model cache (`torch_cache`) to ensure isolation.
*   `gfpgan/`:
    *   `weights/`: Automatically created after clicking submit in the gradio for the first time. Stores downloaded dependency models (like face detectors used by `facexlib`).
*   `system/`: Contains the embedded Python distribution used by the application.
*   `launcher.py`: The main launcher script that calls the gradio app.
*   `run.bat`: Initial script you double-click for checking system GPU, setting environments, etc..


## Notes & Troubleshooting

*   **First Run:** The initial launch will take significantly longer due to downloads and installations.
*   **Internet:** An active internet connection is crucial for the first setup.
*   **GPU Drivers:** If you have an NVIDIA GPU but the application runs slowly (using CPU), ensure you have the latest graphics drivers installed from the NVIDIA website. The launcher script attempts to detect the GPU and install the correct PyTorch version, but driver issues can prevent CUDA from working.
*   **Antivirus:** Some antivirus programs might flag the launcher script or downloaded components as suspicious due to the nature of downloading and running executables/scripts. This is usually a false positive. You may need to temporarily disable your antivirus or create an exception for the application folder if you encounter issues.
*   **Temporary Files:** Remember that restored images are saved in the `app/temp/` directory and may be deleted later. Use the download button in the Gradio UI to save your results permanently elsewhere.
*   **Errors:** If `Run.bat` fails, carefully read the messages in the command prompt window. It might indicate network errors, disk space issues, or problems during installation. You can try deleting the `cache` folder and running `Run.bat` again to force a fresh setup.

## Credits

*   **GFPGAN:** This project relies heavily on the work by TencentARC. Please visit the official repository: [https://github.com/TencentARC/GFPGAN](https://github.com/TencentARC/GFPGAN)
*   **Real-ESRGAN:** Used for background upsampling. [https://github.com/xinntao/Real-ESRGAN](https://github.com/xinntao/Real-ESRGAN)
*   **Gradio:** Used for creating the web interface. [https://github.com/gradio-app/gradio](https://github.com/gradio-app/gradio)
*   **Python:** [https://www.python.org/](https://www.python.org/)
*   **PyTorch:** [https://pytorch.org/](https://pytorch.org/)

## License

This packaging project itself can be considered under a permissive license like MIT. However, the underlying components (GFPGAN, Real-ESRGAN, etc.) have their own licenses. Please ensure your use complies with all relevant licenses. The GFPGAN project typically uses the [Apache 2.0 License](https://github.com/TencentARC/GFPGAN/blob/master/LICENSE).
